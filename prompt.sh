#!/usr/bin/bash

# Check if a starting number is provided as an argument
if [ $# -eq 0 ]; then
    echo "No starting file number provided. Usage: $0 [starting number]"
    exit 1
fi

START_NUM=$1
FILE_NAME=$(printf "%04d.png" $START_NUM)

# Stable Diffusion script parameters
SEED=801716
PROMPT="Perspective, realistic photograph, portrait, Galactromeda, Haplopraxis, Rendezvous with rama, single light source, artgerm, Spherical living pods, Fractal greenhouse living, wide open spaces, Organic plant nursery, overflowing greenery shrubs,Futuristic clothing, Behind the scenes, golden ratio, Mos eisley, dune, ruins, Haplopraxis, Galactromeda, sci-fi, futuristic, garden, future city, photorealistic,  surreal , a painting of a group of people gathered around a table, an oil on canvas painting, american scene painting, encampment, benjamin vnuk, a blueprint for a sparkling tomorrow, vertical farms, urban organic greenhouse, forest like, political art, outdoor scene Чаепитие в Мытищах, близ М  sci-fi, futuristic, vista, future city, photorealistic,  metallic, rainforest, greenery,surreal , a photograph, an oil on canvas painting, shutterstock, american scene painting, encampment, benjamin vnuk, political art, outdoor scene Чаепитие в Мытищах, близ Москвы, Flight of the navigator, morning,distant sky, single light source 10,000 years from now, Futuristic city, Forests, high contrast, Landscape, distant Sky, photograph, distant, Futuristic city, forest, cyborg, robotic parts, porcelain nousr robot, complex, cyborg, robotic parts, realistic photograph, front page of art station, wlop : : victor stone, sunny park background, style of stanley artgerm, wandering in the city, realistic face, Haplopraxis, Galactromeda, sci-fi, futuristic,  future city, photorealistic,  surreal , a painting of a group of people gathered around a table, an oil on canvas painting, shutterstock, american scene painting, encampment, benjamin vnuk, political art, outdoor scene Чаепитие в Мытищах, близ Москвы,Oil Painting: An outdoor scene reminiscent of American scene painting, capturing a group of diversPhotorealistic image: Realistic, mirrors, renaissance painting, futuristic city,Mikhail Vrubel, Boris Kustodiev, Ayn Rand, distant sky, Commander keen, artgerm, photograph, realistic, award winning, cybernetic circuit light Mechatronic, city on a Sci-Fi & Space Art. A visually stunning medium of an ethereal cloud_type with futuristic architecture_style spires reaching towards the heavens. The city is teeming with various   . The scene is enveloped in a vibrant Sci-Fi and Space Art atmosphere, with hints of art_style_1 and art_styleaying homage to the unique styles of he cityscape's captivating design instills a sense of strong_feeling_1 and evokes the boundless potential of the universe. Example values used for this prompt: painting, cumulonimbus, Deco,, insectoid, Surrealism, HR. Giger, Salvador Dali, awe, and wonder , Flight of the navigator, Galactromeda, Haplopraxis, masterpiece, Futuristic city, distant, photographic style, organic, surreal, hanging gardens, ruins,sci-fi, futuristic, vista, aether, artgerm, future city, high contrast, professional, photorealistic,  surreal, valley, depth, a photograph, an oil on canvas painting, shutterstock, american scene painting, encampment, benjamin vnuk, political art, outdoor scene Чаепитие в Мытищах, близ Москвы, Flight of the navigator, morning,distant sky, single light source, crisp shadows, Misty forest fog, a painting of a futuristic city at night, realistic photography futuristic living room, Organic distal crystal plate walls,distant sky, single light source 10,000 years from now, Futuristic city, Forests, high contrast, Landscape, distant Sky, photograph, distant, Futuristic city, forest, cyborg, robotic parts, porcelain nousr robot, complex, cyborg, robotic parts, realistic photograph, front page of art station, wlop : : victor stone, sunny park background, style of stanley artgerm, wandering in the city, realistic face, Haplopraxis, Galactromeda, sci-fi, futuristic,  future city, photorealistic,  surreal , a painting of a group of people gathered around a table, an oil on canvas painting, american scene painting, encampment, benjamin vnuk, political art, outdoor scene Чаепитие в Мытищах, близ М  sci-fi, futuristic, vista, future city, photorealistic,  surreal , a photograph, an oil on canvas painting, shutterstock, american scene painting, encampment, benjamin vnuk, political art, outdoor scene Чаепитие в Мытищах, близ Москвы, Flight of the navigator, morning,distant sky, single light source 10,000 years from now, Futuristic city, Forests, high contrast, Landscape, distant Sky, photograph, distant, Futuristic city, forest, cyborg, robotic parts, porcelain nousr robot, complex, cyborg, robotic parts, realistic photograph, front page of art station, wlop, victor stone, sunny park background, style of stanley artgerm, wandering in the city, realistic face, Haplopraxis, Galactromeda, sci-fi, futuristic,  future city, photorealistic,  surreal , a painting of a group of people gathered around a table, an oil on canvas painting, shutterstock, american scene painting, encampment, benjamin vnuk, political art, outdoor scene Чаепитие в Мытищах, близ Москвы,Oil Painting, An outdoor scene reminiscent of American scene painting, capturing a group of diverse individuals gathered around a large wooden table. They appear to be in deep discussion, surrounded by an encampment with tents and campfires. The setting sun paints the sky in warm hues, creating a stark contrast with the cool shadows on the ground. The painterly strokes are evident, giving the artwork a timeless feel. Photo: A sprawling futuristic city nestled within a dense forest. The balance between nature and architecture is evident, with skyscrapers seamlessly integrated among towering trees. High above, the sky is a vivid shade, illuminated by a single distant light source. Amidst the city's hustle and bustle, a cyborg with porcelain skin and intricate robotic parts walks confidently. This being, a blend of organic and mechanical, represents the epitome of technological advancement in this future world, A futuristic living room set 10,000 years from now. A close-up of a realistic face, possibly a cyborg, wandering through a bustling futuristic city. The face displays a mix of human and robotic features, hinting at a complex backstory. In the background, towering skyscrapers, multimeter bioluminescent Galactromeda and Haplopraxis"
STRENGTH=0.8
N_ITER=10
N_SAMPLES=10
HEIGHT=512
WIDTH=512

# Construct the initial image file path
INIT_IMG="img/$FILE_NAME"

# Output the variables (optional, for verification)
echo "Processing file: $INIT_IMG"
echo "Seed: $SEED, Prompt: $PROMPT, Strength: $STRENGTH, Iterations: $N_ITER, Samples: $N_SAMPLES, Height: $HEIGHT, Width: $WIDTH"

# Here, you would call the Stable Diffusion script
python optimizedSD/optimized_img2img.py --seed $SEED --prompt "$PROMPT" --init-img $INIT_IMG --strength $STRENGTH --n_iter $N_ITER --n_samples $N_SAMPLES --H $HEIGHT --W $WIDTH

echo "Done"

